!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactMotion=t(require("react")):e.ReactMotion=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="build/",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var a=r(1);t.Motion=n(a);var i=r(10);t.StaggeredMotion=n(i);var l=r(11);t.TransitionMotion=n(l);var s=r(13);t.spring=n(s);var o=r(14);t.presets=n(o);var u=r(15);t.reorderKeys=n(u)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(2),l=n(i),s=r(3),o=n(s),u=r(4),c=n(u),f=r(5),d=n(f),p=r(7),y=n(p),m=r(8),v=n(m),h=r(9),T=n(h),S=1e3/60,P=T["default"].createClass({displayName:"Motion",propTypes:{defaultStyle:h.PropTypes.objectOf(h.PropTypes.number),style:h.PropTypes.objectOf(h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.object])).isRequired,children:h.PropTypes.func.isRequired,onRest:h.PropTypes.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||o["default"](r),a=l["default"](n);return{currentStyle:n,currentVelocity:a,lastIdealStyle:n,lastIdealVelocity:a}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t=!1,r=this.state,n=r.currentStyle,i=r.currentVelocity,l=r.lastIdealStyle,s=r.lastIdealVelocity;for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];"number"==typeof u&&(t||(t=!0,n=a({},n),i=a({},i),l=a({},l),s=a({},s)),n[o]=u,i[o]=0,l[o]=u,s[o]=0)}t&&this.setState({currentStyle:n,currentVelocity:i,lastIdealStyle:l,lastIdealVelocity:s})},startAnimationIfNecessary:function(){var e=this;this.animationID=y["default"](function(){var t=e.props.style;if(v["default"](e.state.currentStyle,t,e.state.currentVelocity))return e.wasAnimating&&e.props.onRest&&e.props.onRest(),e.animationID=null,e.wasAnimating=!1,void(e.accumulatedTime=0);e.wasAnimating=!0;var r=d["default"](),n=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+n,e.accumulatedTime>10*S&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();var a=(e.accumulatedTime-Math.floor(e.accumulatedTime/S)*S)/S,i=Math.floor(e.accumulatedTime/S),l={},s={},o={},u={};for(var f in t)if(t.hasOwnProperty(f)){var p=t[f];if("number"==typeof p)o[f]=p,u[f]=0,l[f]=p,s[f]=0;else{for(var y=e.state.lastIdealStyle[f],m=e.state.lastIdealVelocity[f],h=0;i>h;h++){var T=c["default"](S/1e3,y,m,p.val,p.stiffness,p.damping,p.precision);y=T[0],m=T[1]}var P=c["default"](S/1e3,y,m,p.val,p.stiffness,p.damping,p.precision),g=P[0],I=P[1];o[f]=y+(g-y)*a,u[f]=m+(I-m)*a,l[f]=y,s[f]=m}}e.animationID=null,e.accumulatedTime-=i*S,e.setState({currentStyle:o,currentVelocity:u,lastIdealStyle:l,lastIdealVelocity:s}),e.unreadPropStyle=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=d["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=d["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(y["default"].cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&T["default"].Children.only(e)}});t["default"]=P,e.exports=t["default"]},function(e,t){"use strict";function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=0);return t}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t,r,a,i,l,s){var o=-i*(t-a),u=-l*r,c=o+u,f=r+c*e,d=t+f*e;return Math.abs(f)<s&&Math.abs(d-a)<s?(n[0]=a,n[1]=0,n):(n[0]=d,n[1]=f,n)}t.__esModule=!0,t["default"]=r;var n=[];e.exports=t["default"]},function(e,t,r){(function(t){"use strict";(function(){var r,n,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,r=function(){var e;return e=n(),1e9*e[0]+e[1]},a=r()):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(void 0)}).call(t,r(6))},function(e,t){"use strict";function r(){u=!1,l.length?o=l.concat(o):c=-1,o.length&&n()}function n(){if(!u){var e=setTimeout(r);u=!0;for(var t=o.length;t;){for(l=o,o=[];++c<t;)l&&l[c].run();c=-1,t=o.length}l=null,u=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function i(){}var l,s=e.exports={},o=[],u=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new a(e,t)),1!==o.length||u||setTimeout(n,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){"use strict";for(var n=r(5),a="undefined"==typeof window?{}:window,i=["moz","webkit"],l="AnimationFrame",s=a["request"+l],o=a["cancel"+l]||a["cancelRequest"+l],u=0;u<i.length&&!s;u++)s=a[i[u]+"Request"+l],o=a[i[u]+"Cancel"+l]||a[i[u]+"CancelRequest"+l];if(!s||!o){var c=0,f=0,d=[],p=1e3/60;s=function(e){if(0===d.length){var t=n(),r=Math.max(0,p-(t-c));c=r+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(r){setTimeout(function(){throw r},0)}},Math.round(r))}return d.push({handle:++f,callback:e,cancelled:!1}),f},o=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(a,e)},e.exports.cancel=function(){o.apply(a,arguments)}},function(e,t){"use strict";function r(e,t,r){for(var n in t)if(t.hasOwnProperty(n)){if(0!==r[n])return!1;var a="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==a)return!1}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){for(var n=0;n<e.length;n++)if(!h["default"](e[n],t[n],r[n]))return!1;return!0}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=r(2),s=n(l),o=r(3),u=n(o),c=r(4),f=n(c),d=r(5),p=n(d),y=r(7),m=n(y),v=r(8),h=n(v),T=r(9),S=n(T),P=1e3/60,g=S["default"].createClass({displayName:"StaggeredMotion",propTypes:{defaultStyles:T.PropTypes.arrayOf(T.PropTypes.objectOf(T.PropTypes.number)),styles:T.PropTypes.func.isRequired,children:T.PropTypes.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(u["default"]),a=n.map(function(e){return s["default"](e)});return{currentStyles:n,currentVelocities:a,lastIdealStyles:n,lastIdealVelocities:a}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=this.state,r=t.currentStyles,n=t.currentVelocities,a=t.lastIdealStyles,l=t.lastIdealVelocities,s=!1,o=0;o<e.length;o++){var u=e[o],c=!1;for(var f in u)if(u.hasOwnProperty(f)){var d=u[f];"number"==typeof d&&(c||(c=!0,s=!0,r[o]=i({},r[o]),n[o]=i({},n[o]),a[o]=i({},a[o]),l[o]=i({},l[o])),r[o][f]=d,n[o][f]=0,a[o][f]=d,l[o][f]=0)}}s&&this.setState({currentStyles:r,currentVelocities:n,lastIdealStyles:a,lastIdealVelocities:l})},startAnimationIfNecessary:function(){var e=this;this.animationID=m["default"](function(){var t=e.props.styles(e.state.lastIdealStyles);if(a(e.state.currentStyles,t,e.state.currentVelocities))return e.animationID=null,void(e.accumulatedTime=0);var r=p["default"](),n=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+n,e.accumulatedTime>10*P&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var i=(e.accumulatedTime-Math.floor(e.accumulatedTime/P)*P)/P,l=Math.floor(e.accumulatedTime/P),s=[],o=[],u=[],c=[],d=0;d<t.length;d++){var y=t[d],m={},v={},h={},T={};for(var S in y)if(y.hasOwnProperty(S)){var g=y[S];if("number"==typeof g)m[S]=g,v[S]=0,h[S]=g,T[S]=0;else{for(var I=e.state.lastIdealStyles[d][S],w=e.state.lastIdealVelocities[d][S],b=0;l>b;b++){var k=f["default"](P/1e3,I,w,g.val,g.stiffness,g.damping,g.precision);I=k[0],w=k[1]}var M=f["default"](P/1e3,I,w,g.val,g.stiffness,g.damping,g.precision),D=M[0],O=M[1];m[S]=I+(D-I)*i,v[S]=w+(O-w)*i,h[S]=I,T[S]=w}}u[d]=m,c[d]=v,s[d]=h,o[d]=T}e.animationID=null,e.accumulatedTime-=l*P,e.setState({currentStyles:u,currentVelocities:c,lastIdealStyles:s,lastIdealVelocities:o}),e.unreadPropStyles=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=p["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=p["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(m["default"].cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyles);return e&&S["default"].Children.only(e)}});t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){return null==t?e.map(function(e,t){return{key:e.key,data:e.data,style:r[t]}}):e.map(function(e,n){for(var a=0;a<t.length;a++)if(t[a].key===e.key)return{key:t[a].key,data:t[a].data,style:r[n]};return{key:e.key,data:e.data,style:r[n]}})}function i(e,t,r,n){if(n.length!==t.length)return!1;for(var a=0;a<n.length;a++)if(n[a].key!==t[a].key)return!1;for(var a=0;a<n.length;a++)if(!g["default"](e[a],t[a].style,r[a]))return!1;return!0}function l(e,t,r,n,a,i,l,s){for(var o=m["default"](r,n,function(e,r){var n=t(r);return null==n?null:g["default"](a[e],n,i[e])?null:{key:r.key,data:r.data,style:n}}),c=[],f=[],d=[],p=[],y=0;y<o.length;y++){for(var v=o[y],h=null,T=0;T<r.length;T++)if(r[T].key===v.key){h=T;break}if(null==h){var S=e(v);c[y]=S,d[y]=S;var P=u["default"](v.style);f[y]=P,p[y]=P}else c[y]=a[h],d[y]=l[h],f[y]=i[h],p[y]=s[h]}return[o,c,f,d,p]}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(2),u=n(o),c=r(3),f=n(c),d=r(4),p=n(d),y=r(12),m=n(y),v=r(5),h=n(v),T=r(7),S=n(T),P=r(8),g=n(P),I=r(9),w=n(I),b=1e3/60,k=w["default"].createClass({displayName:"TransitionMotion",propTypes:{defaultStyles:I.PropTypes.arrayOf(I.PropTypes.shape({key:I.PropTypes.string.isRequired,data:I.PropTypes.any,style:I.PropTypes.objectOf(I.PropTypes.number).isRequired})),styles:I.PropTypes.oneOfType([I.PropTypes.func,I.PropTypes.arrayOf(I.PropTypes.shape({key:I.PropTypes.string.isRequired,data:I.PropTypes.any,style:I.PropTypes.objectOf(I.PropTypes.oneOfType([I.PropTypes.number,I.PropTypes.object])).isRequired}))]).isRequired,children:I.PropTypes.func.isRequired,willLeave:I.PropTypes.func,willEnter:I.PropTypes.func},getDefaultProps:function(){return{willEnter:function(e){return f["default"](e.style)},willLeave:function(){return null}}},getInitialState:function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=e.willEnter,a=e.willLeave,i="function"==typeof r?r():r,s=void 0;s=null==t?i:t.map(function(e){for(var t=0;t<i.length;t++)if(i[t].key===e.key)return i[t];return e});var o=null==t?i.map(function(e){return f["default"](e.style)}):t.map(function(e){return f["default"](e.style)}),c=null==t?i.map(function(e){return u["default"](e.style)}):t.map(function(e){return u["default"](e.style)}),d=l(n,a,s,i,o,c,o,c),p=d[0],y=d[1],m=d[2],v=d[3],h=d[4];return{currentStyles:y,currentVelocities:m,lastIdealStyles:v,lastIdealVelocities:h,mergedPropsStyles:p}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=l(this.props.willEnter,this.props.willLeave,this.state.mergedPropsStyles,e,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=0;u<e.length;u++){var c=e[u].style,f=!1;for(var d in c)if(c.hasOwnProperty(d)){var p=c[d];"number"==typeof p&&(f||(f=!0,n[u]=s({},n[u]),a[u]=s({},a[u]),i[u]=s({},i[u]),o[u]=s({},o[u]),r[u]={key:r[u].key,data:r[u].data,style:s({},r[u].style)}),n[u][d]=p,a[u][d]=0,i[u][d]=p,o[u][d]=0,r[u].style[d]=p)}}this.setState({currentStyles:n,currentVelocities:a,mergedPropsStyles:r,lastIdealStyles:i,lastIdealVelocities:o})},startAnimationIfNecessary:function(){var e=this;this.animationID=S["default"](function(){var t=e.props.styles,r="function"==typeof t?t(a(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):t;if(i(e.state.currentStyles,r,e.state.currentVelocities,e.state.mergedPropsStyles))return e.animationID=null,void(e.accumulatedTime=0);var n=h["default"](),s=n-e.prevTime;if(e.prevTime=n,e.accumulatedTime=e.accumulatedTime+s,e.accumulatedTime>10*b&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var o=(e.accumulatedTime-Math.floor(e.accumulatedTime/b)*b)/b,u=Math.floor(e.accumulatedTime/b),c=l(e.props.willEnter,e.props.willLeave,e.state.mergedPropsStyles,r,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),f=c[0],d=c[1],y=c[2],m=c[3],v=c[4],T=0;T<f.length;T++){var S=f[T].style,P={},g={},I={},w={};for(var k in S)if(S.hasOwnProperty(k)){var M=S[k];if("number"==typeof M)P[k]=M,g[k]=0,I[k]=M,w[k]=0;else{for(var D=m[T][k],O=v[T][k],_=0;u>_;_++){var V=p["default"](b/1e3,D,O,M.val,M.stiffness,M.damping,M.precision);D=V[0],O=V[1]}var x=p["default"](b/1e3,D,O,M.val,M.stiffness,M.damping,M.precision),A=x[0],R=x[1];P[k]=D+(A-D)*o,g[k]=O+(R-O)*o,I[k]=D,w[k]=O}}m[T]=I,v[T]=w,d[T]=P,y[T]=g}e.animationID=null,e.accumulatedTime-=u*b,e.setState({currentStyles:d,currentVelocities:y,lastIdealStyles:m,lastIdealVelocities:v,mergedPropsStyles:f}),e.unreadPropStyles=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=h["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),"function"==typeof e.styles?this.unreadPropStyles=e.styles(a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=e.styles,null==this.animationID&&(this.prevTime=h["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(S["default"].cancel(this.animationID),this.animationID=null)},render:function(){var e=a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&w["default"].Children.only(t)}});t["default"]=k,e.exports=t["default"]},function(e,t){"use strict";function r(e,t,r){for(var n={},a=0;a<e.length;a++)n[e[a].key]=a;for(var i={},a=0;a<t.length;a++)i[t[a].key]=a;for(var l=[],a=0;a<t.length;a++)l[a]=t[a];for(var a=0;a<e.length;a++)if(!i.hasOwnProperty(e[a].key)){var s=r(a,e[a]);null!=s&&l.push(s)}return l.sort(function(e,r){var a=i[e.key],l=i[r.key],s=n[e.key],o=n[r.key];if(null!=a&&null!=l)return i[e.key]-i[r.key];if(null!=s&&null!=o)return n[e.key]-n[r.key];if(null!=a){for(var u=0;u<t.length;u++){var c=t[u].key;if(n.hasOwnProperty(c)){if(a<i[c]&&o>n[c])return-1;if(a>i[c]&&o<n[c])return 1}}return 1}for(var u=0;u<t.length;u++){var c=t[u].key;if(n.hasOwnProperty(c)){if(l<i[c]&&s>n[c])return 1;if(l>i[c]&&s<n[c])return-1}}return-1})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return i({},o,t,{val:e})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=a;var l=r(14),s=n(l),o=i({},s["default"].noWobble,{precision:.01});e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t["default"]},function(e,t,r){(function(r){"use strict";function n(){"development"===r.env.NODE_ENV&&(a||(a=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))}t.__esModule=!0,t["default"]=n;var a=!1;e.exports=t["default"]}).call(t,r(6))}])});